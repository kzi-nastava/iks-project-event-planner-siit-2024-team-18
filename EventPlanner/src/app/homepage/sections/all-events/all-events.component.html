<div class="all-events-container">
  <h2 class="section-title">All Events</h2>

  <div class="search-container">
    <span class="material-icons search-icon">search</span>
    <input
      type="text"
      class="search-input"
      placeholder="Search events..."
      [(ngModel)]="searchQuery"
      (input)="fetchEvents()"
    />
  </div>

  <div class="controls-container">
    <div class="date-filter-container">
      <label for="from-date" class="date-label">From</label>
      <input
        id="from-date"
        type="date"
        class="date-input"
        [(ngModel)]="fromDate"
        (change)="fetchEvents()"
      />
      <label for="to-date" class="date-label">To</label>
      <input
        id="to-date"
        type="date"
        class="date-input"
        [(ngModel)]="toDate"
        (change)="fetchEvents()"
      />
    </div>

    <div class="sort-container">
      <label for="sort-select" class="sort-label">Sort by</label>
      <select
        id="sort-select"
        class="sort-select"
        [(ngModel)]="selectedFilter"
        (change)="fetchEvents()"
      >
      <option *ngFor="let option of sortOptions" [value]="option.value">
        {{ option.label }}
      </option>
      </select>
    </div>

    <div class="sort-container">
      <label for="sort-order" class="sort-label">Sort order</label>
      <select
        id="sort-order"
        class="sort-select"
        [(ngModel)]="sortOrder"
        (change)="fetchEvents()"
      >
        <option value="ASC">Ascending</option>
        <option value="DESC">Descending</option>
      </select>
    </div>
  </div>

  <div *ngIf="events.length > 0 && !loading" class="events-grid">
    <app-event-card
      *ngFor="let event of events"
      [event]="event"
      (cardClick)="openEventDetails(event.id)"
    ></app-event-card>
  </div>

  <div *ngIf="!events?.length && !loading" class="no-events">
    <p>No events available at the moment.</p>
  </div>

  <div *ngIf="loading" class="loading">
    <p>Loading events...</p>
  </div>

  <div class="pagination">
    <button
      class="previous"
      (click)="goToPreviousPage()"
      [disabled]="currentPage === 0"
    >
    </button>
    <span class="current-page">{{ currentPage + 1 }} / {{ totalPages }}</span>
    <button
      class="next"
      (click)="goToNextPage()"
      [disabled]="currentPage + 1 === totalPages"
    >
    </button>
  </div>
</div>
