<div class="container mt-4">
    <div class="title">
        <h2>Categories</h2>
        <button (click)="openCreateModal()" class="create">
            <mat-icon class="custom-add-icon"></mat-icon>
        </button>
        <button class="create" [routerLink]="['/categories/review']">
            <mat-icon class="custom-info-icon"></mat-icon>
        </button>
    </div>
  
    <div class="container mt-4">
      <div class="row justify-content-center">
        <div *ngFor="let category of categories" class="col-lg-4 col-md-6 col-sm-12 mb-4 d-flex align-items-stretch">
          <mat-card class="card shadow">
            <div class="category-type-settings">
              <button class="edit" (click)="openEditModal(category)">
                <mat-icon class="custom-edit-icon"></mat-icon>
              </button>
              <button class="delete" (click)="deleteCategory($event, category.id)">
                <mat-icon class="custom-delete-icon"></mat-icon>
              </button>
            </div>
            <mat-card-header>
              <mat-card-title class="bold-font">{{ category.name }}</mat-card-title>
            </mat-card-header>
            <mat-card-content class="margin-top">
              <span>{{ category.description }}</span><br />
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Create Modal -->
  <div class="modal" *ngIf="isCreateModalVisible">
    <div class="modal-content">
      <h2 class="modal-title">Create Category</h2>
      <form>
        <mat-form-field appearance="fill">
          <mat-label>Category Name</mat-label>
          <input matInput [(ngModel)]="newCategory.name" name="categoryName" required />
          <mat-error *ngIf="!newCategory.name">Category Name is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Description</mat-label>
          <input matInput [(ngModel)]="newCategory.description" name="description" required />
          <mat-error *ngIf="!newCategory.description">Description is required</mat-error>
        </mat-form-field>
  
        <div class="modal-actions">
          <button mat-raised-button color="warn" (click)="closeModal()">Cancel</button>
          <button mat-raised-button color="primary" (click)="createCategory()">Save</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Edit Modal -->
  <div class="modal" *ngIf="isEditModalVisible && selectedCategory">
    <div class="modal-content">
      <h2 class="modal-title">Edit Category</h2>
      <form>
        <mat-form-field appearance="fill">
          <mat-label>Category Name</mat-label>
          <input 
            matInput 
            [(ngModel)]="selectedCategory.name" 
            name="categoryName" 
            required 
          />
          <mat-error *ngIf="!selectedCategory.name">Category Name is required</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="fill">
          <mat-label>Description</mat-label>
          <input 
            matInput 
            [(ngModel)]="selectedCategory.description" 
            name="categoryDescription" 
            required 
          />
          <mat-error *ngIf="!selectedCategory.description">Description is required</mat-error>
        </mat-form-field>
  
        <div class="modal-actions">
          <button mat-raised-button color="warn" (click)="closeModal()">Cancel</button>
          <button mat-raised-button color="primary" (click)="saveEditedCategory()">Save</button>
        </div>
      </form>
    </div>
  </div>
  
  